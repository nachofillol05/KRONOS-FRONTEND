{"ast":null,"code":"var _jsxFileName = \"/home/augusto/Escritorio/KRONOS-FRONTEND/Front/react_kronos/src/pages/materias/asignacionProfesorDrawer.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Modal, Select, Button, List, Space } from 'antd';\nimport { CloseOutlined } from '@ant-design/icons';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ModalComponent = ({\n  onClose,\n  record,\n  parentRecord,\n  teachers,\n  setSelectedTeacher,\n  asignarMateria,\n  removeTeacher\n}) => {\n  _s();\n  const [selectedTeacherModal, setSelectedTeacherModal] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [teacherToRemove, setTeacherToRemove] = useState(null);\n  const assignedTeachers = record.teacher_subject_schools || [];\n  const filteredTeachers = teachers.filter(teacher => !assignedTeachers.some(at => at.teacher_id === teacher.value));\n  const showConfirmModal = value => {\n    setTeacherToRemove(value);\n    setConfirmModalOpen(true);\n  };\n  const setTeachers = value => {\n    setSelectedTeacherModal(value);\n    setSelectedTeacher(value);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          marginBottom: 15\n        },\n        children: [parentRecord.name, \" - Curso \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: record.course_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 53\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Space.Compact, {\n        style: {\n          width: '100%'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          size: \"large\",\n          style: {\n            flexGrow: 1\n          },\n          showSearch: true,\n          placeholder: \"Buscar profesor\",\n          options: filteredTeachers,\n          value: selectedTeacherModal,\n          onChange: value => setTeachers(value) // Actualiza el valor seleccionado aquí\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          size: \"large\",\n          onClick: () => {\n            asignarMateria(record.id, selectedTeacherModal);\n            onClose();\n          },\n          children: \"Agregar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        bordered: true,\n        style: {\n          marginTop: '10px'\n        },\n        dataSource: assignedTeachers,\n        renderItem: item => /*#__PURE__*/_jsxDEV(List.Item, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [item.teacher_name, /*#__PURE__*/_jsxDEV(Button, {\n              icon: /*#__PURE__*/_jsxDEV(CloseOutlined, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 55\n              }, this),\n              onClick: () => showConfirmModal(item.id)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 41\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"Confirmar eliminaci\\xF3n\",\n      visible: confirmModalOpen,\n      onOk: () => {\n        removeTeacher(teacherToRemove); // Llama a removeTeacher\n        onClose();\n        setTeacherToRemove(null);\n        // Luego llama a onClose\n      },\n      onCancel: () => setConfirmModalOpen(false),\n      okText: \"Eliminar\",\n      cancelText: \"Cancelar\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\xBFEst\\xE1s seguro de que quieres eliminar este profesor?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ModalComponent, \"KF3XyfBzaeO9KIwrg20wc7QanuM=\");\n_c = ModalComponent;\nexport default ModalComponent;\nvar _c;\n$RefreshReg$(_c, \"ModalComponent\");","map":{"version":3,"names":["React","useState","Modal","Select","Button","List","Space","CloseOutlined","jsxDEV","_jsxDEV","Fragment","_Fragment","ModalComponent","onClose","record","parentRecord","teachers","setSelectedTeacher","asignarMateria","removeTeacher","_s","selectedTeacherModal","setSelectedTeacherModal","confirmModalOpen","setConfirmModalOpen","teacherToRemove","setTeacherToRemove","assignedTeachers","teacher_subject_schools","filteredTeachers","filter","teacher","some","at","teacher_id","value","showConfirmModal","setTeachers","children","style","padding","marginBottom","name","course_name","fileName","_jsxFileName","lineNumber","columnNumber","Compact","width","size","flexGrow","showSearch","placeholder","options","onChange","onClick","id","bordered","marginTop","dataSource","renderItem","item","Item","display","justifyContent","alignItems","teacher_name","icon","title","visible","onOk","onCancel","okText","cancelText","_c","$RefreshReg$"],"sources":["/home/augusto/Escritorio/KRONOS-FRONTEND/Front/react_kronos/src/pages/materias/asignacionProfesorDrawer.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Modal, Select, Button, List, Space } from 'antd';\nimport { CloseOutlined } from '@ant-design/icons';\n\nconst ModalComponent = ({ onClose, record, parentRecord, teachers, setSelectedTeacher, asignarMateria, removeTeacher }) => {\n    const [selectedTeacherModal, setSelectedTeacherModal] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [teacherToRemove, setTeacherToRemove] = useState(null);\n\n    const assignedTeachers = record.teacher_subject_schools || [];\n    const filteredTeachers = teachers.filter(teacher => !assignedTeachers.some(at => at.teacher_id === teacher.value));\n\n    const showConfirmModal = (value) => {\n        setTeacherToRemove(value);\n        setConfirmModalOpen(true);\n    }\n\n\n    const setTeachers = (value) => {\n        setSelectedTeacherModal(value);\n        setSelectedTeacher(value);\n    }\n\n    return (\n        <>\n                <div style={{ padding: '20px' }}>\n                    <h3 style={{ marginBottom: 15 }}>\n                        {parentRecord.name} - Curso <b>{record.course_name}</b>\n                    </h3>\n\n\n                        <Space.Compact style={{ width: '100%' }}>\n                            <Select\n                                size='large'\n                                style={{ flexGrow: 1 }}\n                                showSearch\n                                placeholder=\"Buscar profesor\"\n                                options={filteredTeachers}\n                                value={selectedTeacherModal}\n                                onChange={value => setTeachers(value)} // Actualiza el valor seleccionado aquí\n                            />\n                            <Button\n                                size='large'\n                                onClick={() => {\n                                    asignarMateria(record.id, selectedTeacherModal);\n                                    onClose()\n                                }}\n                            >\n                                Agregar\n                            </Button>\n                        </Space.Compact>\n                            <List\n                            bordered\n                                style={{ marginTop: '10px' }}\n                                dataSource={assignedTeachers}\n                                renderItem={item => (\n                                    <List.Item\n\n                                    >\n                                        <div \n                                        style={{\n                                            width:'100%',\n                                            display: 'flex',\n                                            justifyContent: 'space-between',\n                                            alignItems: 'center'\n                                        }}\n                                        >\n                                        {item.teacher_name}\n                                        <Button \n                                                icon={<CloseOutlined />} \n                                                onClick={() => showConfirmModal(item.id)}\n                                            />\n                                        </div>\n                                    </List.Item>\n                                )}\n                            />\n\n                </div>\n\n            <Modal\n                title=\"Confirmar eliminación\"\n                visible={confirmModalOpen}\n                onOk={() => {\n                    removeTeacher(teacherToRemove);  // Llama a removeTeacher\n                    onClose();\n                    setTeacherToRemove(null);\n                    // Luego llama a onClose\n                }}\n                onCancel={() => setConfirmModalOpen(false)}\n                okText=\"Eliminar\"\n                cancelText=\"Cancelar\"\n            >\n                <p>¿Estás seguro de que quieres eliminar este profesor?</p>\n            </Modal>\n        </>\n    );\n};\n\nexport default ModalComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}